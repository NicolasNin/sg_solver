<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Star Genius</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .timer {
            font-family: monospace;
            font-size: 1.2em;
            font-weight: bold;
            color: #ccc;
            margin-left: 15px;
            padding: 5px 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <!-- Start Modal -->
    <div id="start-modal" class="modal">
        <div class="modal-content">
            <h1>‚≠ê Star Genius</h1>
            <p>Choose how to start:</p>
            <div class="modal-buttons">
                <button id="btn-random" class="btn btn-primary">üé≤ Random Game</button>
                <button id="btn-choose-dice" class="btn btn-secondary">üéØ Choose Dice</button>
                <button id="btn-photo" class="btn btn-secondary">üì∑ Load from Photo</button>
            </div>
            <input type="file" id="photo-input" accept="image/*" style="display: none;">
        </div>
    </div>

    <!-- Dice Selection Modal -->
    <div id="dice-modal" class="modal hidden">
        <div class="modal-content dice-modal-content">
            <h2>üéØ Choose Your Blockers</h2>
            <p class="dice-instructions">Click one value per die to select blockers</p>
            <table id="dice-table">
                <tbody>
                    <tr data-die="0">
                        <td class="die-label">Die 1</td>
                        <td class="die-options"></td>
                    </tr>
                    <tr data-die="1">
                        <td class="die-label">Die 2</td>
                        <td class="die-options"></td>
                    </tr>
                    <tr data-die="2">
                        <td class="die-label">Die 3</td>
                        <td class="die-options"></td>
                    </tr>
                    <tr data-die="3">
                        <td class="die-label">Die 4</td>
                        <td class="die-options"></td>
                    </tr>
                    <tr data-die="4">
                        <td class="die-label">Die 5</td>
                        <td class="die-options"></td>
                    </tr>
                    <tr data-die="5">
                        <td class="die-label">Die 6</td>
                        <td class="die-options"></td>
                    </tr>
                    <tr data-die="6">
                        <td class="die-label">Die 7</td>
                        <td class="die-options"></td>
                    </tr>
                </tbody>
            </table>
            <div class="dice-modal-buttons">
                <button id="btn-start-dice" class="btn btn-primary" disabled>Start Game</button>
                <button id="btn-cancel-dice" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Main Game Area -->
    <div id="game-container" class="hidden">
        <header>
            <h1>‚≠ê Star Genius</h1>
            <div id="header-status">Select a piece from the palette</div>
            <div class="header-controls">
                <div id="timer" class="timer">00:00</div>
            </div>
        </header>

        <main>
            <!-- Piece Palette -->
            <aside id="palette">
                <h2>Pieces</h2>
                <div id="piece-list"></div>
            </aside>

            <!-- Board Area -->
            <section id="board-container">
                <svg id="board-svg" viewBox="0 0 500 500"></svg>
            </section>

            <!-- Controls -->
            <aside id="controls">
                <h2>New Game</h2>
                <div class="control-group">
                    <button id="btn-new-game" class="btn btn-primary">üé≤ Random Game</button>
                    <button id="btn-choose-dice-game" class="btn btn-secondary">üéØ Choose Dice</button>
                </div>
                <h2>Controls</h2>
                <div class="control-group">
                    <button id="btn-rotate" class="btn">‚Üª Rotate (R)</button>
                    <button id="btn-flip" class="btn">‚Üî Flip (F)</button>
                </div>
                <div class="control-group">
                    <button id="btn-reset" class="btn btn-warning">Reset Board</button>
                </div>
                <div class="control-group">
                    <button id="btn-solve" class="btn btn-primary">üí° Help Me!</button>
                    <button id="btn-solve-full" class="btn btn-secondary">üîÑ Full Solve</button>
                </div>
                <div id="controls-info">
                    <p><strong>Keyboard:</strong></p>
                    <ul>
                        <li><kbd>R</kbd> Rotate</li>
                        <li><kbd>F</kbd> Flip</li>
                        <li><kbd>Esc</kbd> Deselect</li>
                    </ul>
                    <p><strong>Mouse:</strong></p>
                    <ul>
                        <li>Click piece to select</li>
                        <li>Click cell to place</li>
                        <li>Right-click to remove</li>
                    </ul>
                </div>
            </aside>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="hidden">
        <div class="spinner"></div>
        <p>Solving puzzle...</p>
    </div>

    <!-- Scripts -->
    <script src="js/pieces.js"></script>
    <script src="js/board.js"></script>
    <script src="js/game.js"></script>
    <script src="js/api.js"></script>
    <script src="js/main.js"></script>
</body>

</html>